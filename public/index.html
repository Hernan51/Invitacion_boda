<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style/style.css" />
  <title>Boda Karen & Sergio — 11 • 07 • 2026</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400;600&display=swap"
    rel="stylesheet">

  <!-- Forzar que, al recargar, la página comience desde arriba -->
  <script>
    (function () {
      if ('scrollRestoration' in history) {
        history.scrollRestoration = 'manual';
      }
      if (location.hash) {
        history.replaceState(null, '', location.pathname + location.search);
      }
      window.addEventListener('load', function () { window.scrollTo(0, 0); });
      window.addEventListener('pageshow', function (e) { if (e.persisted) window.scrollTo(0, 0); });
      window.addEventListener('beforeunload', function () { window.scrollTo(0, 0); });
    })();
  </script>


</head>

<body>
  <!-- (Intro eliminada) -->

  <!-- Topbar: logo + hamburguesa -->
  <div class="topbar">
    <div class="topbar-inner">
      <a href="#home" class="logo" aria-label="Inicio">
        <img src="img/logo.jpg" alt="Logo">
        <span>Karen & Sergio</span>
      </a>
      <button class="hamburger" id="hamburger" aria-label="Abrir menú" aria-controls="menuOverlay"
        aria-expanded="false">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </div>
  </div>

  <!-- Overlay / Índice de la página -->
  <div id="menuOverlay" role="dialog" aria-modal="true">
    <nav class="menu">
      <a href="#home">Inicio <small>Hero</small></a>
      <a href="#ceremonia">Ceremonia <small>Templo</small></a>
      <a href="#recepcion">Recepción <small>Fiesta</small></a>
      <a href="#info">Información <small>Regalos / Confirmación</small></a>
      <a href="#itinerario">Itinerario</a>
    </nav>
  </div>

  <div id="inviteMount"></div>

  <div class="wrap">
    <header class="hero" id="home">
      <div class="hero-invite">
        <h1 class="names-alt">
          <span class="first">KAREN</span><br>
          <span class="amp-alt">&</span><br>
          <span class="last">SERGIO</span>
        </h1>

        <div class="hero-date">
          <div class="side">SÁBADO</div>
          <div class="center">
            <div class="month">JULIO</div>
            <div class="day">11</div>
            <div class="year">2026</div>
          </div>
          <div class="side">6:00&nbsp;PM</div>
        </div>


      </div>

      <!-- (opcional) deja tu contador y botón aquí -->
      <div class="countdown" id="countdown">“De nadie seré, sólo de ti. Hasta que mis huesos se vuelvan cenizas y mi corazón deje de latir.”
<br>-PABLO NERUDA</div>
      <div class="add-to-cal"><button class="btn" id="addToCalBtn">Agregar al calendario</button></div>
    </header>

    <!-- Contador -->
    <div class="countdown" id="countdown">
      <div class="cd-box">
        <div class="cd-num" id="d">–</div>
        <div class="cd-lbl">Días</div>
      </div>
      <div class="cd-box">
        <div class="cd-num" id="h">–</div>
        <div class="cd-lbl">Horas</div>
      </div>
      <div class="cd-box">
        <div class="cd-num" id="m">–</div>
        <div class="cd-lbl">Min</div>
      </div>
      <div class="cd-box">
        <div class="cd-num" id="s">–</div>
        <div class="cd-lbl">Seg</div>
      </div>
    </div>
    
    </header>

    <!-- Ceremonia -->
    <section class="section-stack" id="ceremonia">
      <div class="watermark reveal fade-image">
        <img src="img/iglesia.jpeg" alt="Ilustración tipo acuarela de catedral">
      </div>
      <div class="card reveal">
        <h2 class="section-title">Ceremonia Religiosa</h2>
        <p><strong>Hora:</strong> <em>por definir</em></p>
        <p><strong>Lugar:</strong> Templo de San Antonio de Padua — <a href="#" target="_blank" rel="noopener">Ver
            mapa</a></p>
        <p>Nos encantará contar con tu presencia en la ceremonia donde daremos el “sí”.</p>
      </div>
    </section>

    <!-- Recepción -->
    <section class="section-stack" id="recepcion">
      <div class="watermark reveal fade-image">
        <img src="img/salon.jpeg" alt="Ilustración tipo acuarela del salón">
      </div>
      <div class="card reveal">
        <h2 class="section-title">Recepción</h2>
        <p><strong>Hora:</strong> <em>por definir</em></p>
        <p><strong>Lugar:</strong> Salón / Jardín — <a href="#" target="_blank" rel="noopener">Ver mapa</a></p>
        <p>Después de la ceremonia, celebraremos con cena, música y mucho amor.</p>
      </div>
    </section>

    <!-- Info útil -->
    <section class="grid grid-3" id="info">
      <div class="card">
        <h3 class="section-title" style="font-size:22px">Código de vestimenta</h3>
        <p>Formal de día. Tonos neutros o pasteles son bienvenidos.</p>
      </div>
      <div class="card">
        <h3 class="section-title" style="font-size:22px">Mesa de regalos</h3>
        <p>Puedes ver nuestras opciones aquí:</p>
        <a id="btnLiverpool" class="btn btn-liverpool"
          href="https://mesaderegalos.liverpool.com.mx/milistaderegalos/51755634" target="_blank"
          rel="noopener"><span>Liverpool</span></a>
      </div>
      <div class="card">
        <h3 class="section-title" style="font-size:22px">Confirmación</h3>
        <p>Ayúdanos confirmando tu asistencia.</p>
        <a class="btn"
          href="https://wa.me/?text=Confirmo%20mi%20asistencia%20a%20la%20boda%20de%20Karen%20y%20Sergio%20el%2011%20de%20julio%20de%202026"
          target="_blank" rel="noopener">Confirmar por WhatsApp</a>
      </div>
    </section>

    <!-- Itinerario -->
    <section class="card" id="itinerario">
      <h2 class="section-title">Itinerario</h2>
      <ul class="list">
        <li><strong>16:00</strong> — Recepción de invitados (ceremonia)</li>
        <li><strong>17:00</strong> — Ceremonia religiosa</li>
        <li><strong>19:30</strong> — Coctel de bienvenida (recepción)</li>
        <li><strong>20:30</strong> — Cena y celebración</li>
      </ul>
      <p style="margin-top:10px; font-size:13px; color:#777">*Horarios a ajustar — coloca los definitivos cuando los
        tengan.</p>
    </section>

    <footer>
      “El amor todo lo puede.” — ¡Nos vemos el 11/07/2026!
    </footer>
  </div>

  <script>
    // Tarjeta de pases por query (?n=Nombre&p=3)
    (function () {
      const qs = new URLSearchParams(location.search);
      const name = qs.get('n');
      const passes = parseInt(qs.get('p'), 10);
      if (!name || !passes) return;
      const host = document.getElementById('inviteMount');
      const wrap = document.createElement('div');
      wrap.className = 'invite-card';
      wrap.innerHTML = `
        <div class="invite-head">
          <img class="invite-photo" src="img/intro_imagen.jpeg" alt="Pareja" />
          <div class="invite-names">
            <div class="big">KAREN & SERGIO</div>
            <div class="date">11 JULIO 2026</div>
          </div>
        </div>
        <div class="invite-body">
          <div class="envelope-box"><div class="envelope-seal">KS</div></div>
          <div class="reserve">HEMOS RESERVADO PARA USTEDES</div>
          <div class="dots" id="dots"></div>
          <div class="who" id="whoname"></div>
        </div>`;
      host.appendChild(wrap);
      const total = Math.max(5, passes);
      const dots = wrap.querySelector('#dots');
      for (let i = 1; i <= total; i++) {
        const d = document.createElement('span');
        d.className = 'dot' + (i <= passes ? ' filled' : '');
        dots.appendChild(d);
      }
      wrap.querySelector('#whoname').textContent = name;
    })();
  </script>

  <script>
    // Botón "Agregar al calendario" — genera .ics directamente
    (function () {
      const btn = document.getElementById('addToCalBtn');
      if (!btn) return;
      const title = 'Boda de Karen & Sergio';
      const description = 'Con alegría, invitamos a celebrar el comienzo de nuestra vida juntos.\\nMás detalles en la invitación.';
      const location = 'Por definir';
      const startDate = '20260711';
      const endDate = '20260712';
      const pad = (n) => String(n).padStart(2, '0');
      const now = new Date();
      const dtstamp = `${now.getUTCFullYear()}${pad(now.getUTCMonth() + 1)}${pad(now.getUTCDate())}T${pad(now.getUTCHours())}${pad(now.getUTCMinutes())}${pad(now.getUTCSeconds())}Z`;
      btn.addEventListener('click', function () {
        const uid = `boda-karen-sergio-${startDate}@invitacion.local`;
        const lines = [
          'BEGIN:VCALENDAR', 'VERSION:2.0', 'PRODID:-//Karen & Sergio//Boda//ES', 'CALSCALE:GREGORIAN', 'METHOD:PUBLISH', 'BEGIN:VEVENT',
          `UID:${uid}`, `DTSTAMP:${dtstamp}`, `DTSTART;VALUE=DATE:${startDate}`, `DTEND;VALUE=DATE:${endDate}`, `SUMMARY:${title}`, `DESCRIPTION:${description}`, `LOCATION:${location}`, 'END:VEVENT', 'END:VCALENDAR'
        ];
        const ics = lines.join('\r\n');
        const blob = new Blob([ics], { type: 'text/calendar;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = 'Boda-Karen-Sergio-2026.ics';
        document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      });
    })();
  </script>

  <script>
    // Contador al 11 de julio de 2026
    (function () {
      const target = new Date('2026-07-11T00:00:00');
      const d = document.getElementById('d');
      const h = document.getElementById('h');
      const m = document.getElementById('m');
      const s = document.getElementById('s');
      function tick() {
        const now = new Date();
        let diff = target - now; if (diff < 0) diff = 0;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const mins = Math.floor((diff / (1000 * 60)) % 60);
        const secs = Math.floor((diff / 1000) % 60);
        d.textContent = String(days);
        h.textContent = String(hours).padStart(2, '0');
        m.textContent = String(mins).padStart(2, '0');
        s.textContent = String(secs).padStart(2, '0');
      }
      tick(); setInterval(tick, 1000);
    })();
  </script>

  <script>
    // Revelar elementos .reveal al entrar al viewport
    (function () {
      const io = new IntersectionObserver((entries) => {
        entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show'); io.unobserve(e.target); } });
      }, { threshold: 0.15 });
      document.querySelectorAll('.reveal').forEach(el => io.observe(el));
    })();
  </script>

  <script>
    // Menú hamburguesa
    (function () {
      const btn = document.getElementById('hamburger');
      const overlay = document.getElementById('menuOverlay');
      const toggle = () => {
        const open = overlay.classList.toggle('open');
        btn.classList.toggle('active', open);
        btn.setAttribute('aria-expanded', String(open));
        document.body.style.overflow = open ? 'hidden' : '';
      };
      btn.addEventListener('click', toggle);
      overlay.addEventListener('click', (e) => { if (e.target === overlay) toggle(); });
      overlay.querySelectorAll('a').forEach(a => a.addEventListener('click', () => toggle()));
    })();
  </script>

  <script>
    // Efecto "pintado" del botón Liverpool cuando entra por primera vez al viewport
    (function () {
      const btn = document.getElementById('btnLiverpool');
      if (!btn) return;
      if (btn.dataset.paintInit === '1') return; btn.dataset.paintInit = '1';
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) btn.style.transition = 'none';
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if (entry.isIntersecting) { requestAnimationFrame(() => setTimeout(() => btn.classList.add('paint'), 80)); observer.disconnect(); } });
      }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.25 });
      observer.observe(btn);
    })();
  </script>
</body>

</html>